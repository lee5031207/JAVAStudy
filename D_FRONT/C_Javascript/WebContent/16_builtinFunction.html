<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>16_builtinFunction</title>
    <style type="text/css">
        .note{
            width:100%;
            min-height:100px;
            background-color: lightgreen;
            border:1px solid;
        }
    </style>
    <script type="text/javascript">
        function $(selector,text){
            if(text){
                document.querySelector(selector).innerHTML += `${text}<br>`;
            }
            return document.querySelector(selector);
        }
    </script>
</head>
<body>
    <h1>JavaScipt 내장 함수</h1>
    <h2>인코딩 디코딩과 관련된 내장 함수</h2>
    <pre>
        1. 인코딩
        escape : 영문, 알파벳, 숫자, 일부 특수문자(@,*,-,_,.,/) 를 제외한 모든 문자를 인코딩
        encodeURI : escape에서 인터넷 주소에 사용되는 일부 특수문자(:,;,/,=,?,&)를 추가로 제외하고 인코딩
        encodeURIComponent : 알파벳과 숫자를 제외한 모든 문자를 인코딩

        2. 디코딩
        unescape : escpe로 인코딩된 문자열을 디코딩
        decodeURI : decodeURI로 인코딩된 문자열을 디코딩
        decodeURIComponent : decodeURIComponent로 인코딩된 문자열을 디코딩
    </pre>
    <div class="note" id="encoding-note"></div>
    <script>
        const URI = "https://www.naver.com?test=한글입니다";
        let es = escape(URI);
        let enURI = encodeURI(URI);
        let enURIC = encodeURIComponent(URI);

        $("#encoding-note", `escape() : ${es}`);
        $("#encoding-note", `encodeURI() : ${enURI}`);
        $("#encoding-note", `encodeURIComponent() : ${enURIC}`);

        $("#encoding-note", `unescape() : ${unescape(es)}`);
        $("#encoding-note", `decodeURI() : ${decodeURI(enURI)}`);
        $("#encoding-note", `decodeURIComponent() : ${decodeURIComponent(enURIC)}`);
    </script>


    <h2>eval 함수</h2>
    <pre>
        문자열을 자바스크립트 코드로 변환해 실행하는 함수
    </pre>
    <label for="">숫자 1 입력 : <input type="text" id="num1"></label>
    <label for="">숫자 2 입력 : <input type="text" id="num2"></label><hr>
    <div id="eval-note" class="note"></div>
    <script>

        $("#eval-note").addEventListener("click",(e)=>{
            let evalStr = `
            let number1 = Number($('#num1').value);
            let number2 = Number($('#num2').value);
            let sum = number1+number2;
            $("#eval-note",'number1+number2 =' +sum);
            `
            eval(evalStr);
        })
    </script>

    <h2>eval의 대체, Function 생성자 함수</h2>
    <label for="">숫자 1 입력 : <input type="text" id="fnnum1"></label>
    <label for="">숫자 2 입력 : <input type="text" id="fnnum2"></label><hr>
    <div id="function-note" class="note"></div>
    <script>
        $("#function-note").addEventListener("click",(e)=>{
            let fnStr = `
            let number1 = Number($('#fnnum1').value);
            let number2 = Number($('#fnnum2').value);
            let sum = number1+number2;
            $("#function-note",'number1+number2 =' +sum);
            `
            let sum = new Function(fnStr);
            sum();
        })
    </script>
</body>
</html>